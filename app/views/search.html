<div class="container-fluid" 
    eui-index="'documents'"
    eui-response-fields="meeting_date,origin"
    eui-enabled="true"
    eui-sort="ejs.Sort('meeting_date').order('desc')"
    order="'desc'"
    eui-highlight="ejs.Highlight('text').preTags('<mark>').postTags('</mark>').fragmentSize(200)"
>

        <div class="row">
            <div class="col-xs-3 sidebar">

                <h3>Sök</h3>
                <eui-searchbox field="'text'" keyword="keyword"></eui-searchbox> <!-- ACTION: change to field to search on -->
                
                <h3>Sortera</h3>
                <button ng-click="sort('desc')" class="btn btn-sm btn-default" ng-class="{active : sorting.sort.toJSON().meeting_date.order == 'desc'}">Fallande</button>
                <button ng-click="sort('asc')" class="btn btn-sm btn-default" ng-class="{active : sorting.sort.toJSON().meeting_date.order == 'asc'}">Stigande</button>

                 <h4>Filtrera på datum</h4>
                <eui-daterange field="'meeting_date'" ng-controller="DaterangeCtrl"></eui-daterange>
                
                
                <h4>Filtrera på kommun</h4>
                <eui-checklist field="'origin'" size="5"></eui-checklist>

                <h4>Dokumenttyp</h4>
                <eui-checklist field="'document_type'" size="5"></eui-checklist>
               

            </div>
            <div class="col-xs-9 main">
              <div class="loading" ng-show="searching">
                <h1>Hämtar data</h1>
              </div>
              <div class="results" ng-hide="searching">
                <h1>Visar {{ indexVM.pageFrom }}-{{ indexVM.pageTo }} av {{indexVM.results.hits.total}} träffar</h1>
                <div ng-controller="SearchUrlCtrl">
                  Url till den här sökningen
                  <code>/#/search/{{from | date : 'yyyy-MM-dd' }}/{{to | date : 'yyyy-MM-dd'}}/{{keyword}}</code>
                </div>
                <!--
                <eui-simple-paging></eui-simple-paging>
                -->
                <ul class="pager">
                    <li ng-class="{disabled:indexVM.page <= 1}"><a href="" ng-click="indexVM.page=1">Första</a></li>
                    <li ng-class="{disabled:indexVM.page <= 1}"><a href="" ng-click="indexVM.page=indexVM.page - 1">Föregående</a></li>
                    <li ng-class="{disabled:indexVM.pageCount <= indexVM.page}"><a href="" ng-click="indexVM.page=indexVM.page + 1">Nästa</a></li>
                    <li ng-class="{disabled:indexVM.pageCount <= indexVM.page}"><a href="" ng-click="indexVM.page=indexVM.pageCount">Sista</a></li>
                </ul>
                <ul>
                    <li ng-repeat="doc in indexVM.results.hits.hits">
                        
                        <div>
                        	<a href="#document/{{doc._id}}">
	                            <h4>{{doc.fields.origin[0] || doc_source.origin }}</h4>
	                        </a>
                            <div>
                            	<strong>Datum:</strong> {{doc.fields.meeting_date[0] || doc._source.meeting_date | date : 'yyyy-MM-dd' }}
                            </div>

                            <div ng-show="doc.highlight">
                              <div ng-bind-html="doc.highlight.text[0]"></div>
                              <small><strong>Antal träffar på sökordet:</strong> {{doc.highlight.text.length}}</small>
                            </div>
                        </div>
                    </li>
                </ul>
                <eui-simple-paging></eui-simple-paging>
            </div>
        </div>
    </div>