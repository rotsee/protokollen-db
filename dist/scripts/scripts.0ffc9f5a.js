"use strict";var app=angular.module("protokollenApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","elasticui","ui.bootstrap"]).constant("euiHost","http://localhost:1510").config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/search/:from?/:to?",{templateUrl:"views/search.html",controller:"SearchCtrl"}).when("/document/:id",{templateUrl:"views/document.html",controller:"DocumentCtrl"}).when("/meetings",{templateUrl:"views/meetings.html",controller:"MeetingsCtrl"}).otherwise({redirectTo:"/"})}]),elasticui;!function(a){!function(b){!function(b){var c=function(){function c(c){var d={};return d.restrict="E",d.scope=!0,d.link={pre:function(d,e,f){a.util.AngularTool.setupBinding(c,d,f,["field","size","from","to"]),d.agg_name=d.field.replace(/[^a-z_0-9]/gim,"_")+"_"+b.default_agg_count++}},d.template='                        <ul class="nav nav-list" eui-filter="ejs.RangeFilter(field).field(field).from(daterange.from).to(daterange.to)" eui-enabled="true"/>                            <li>Fr√•n:                                 <div class="input-group" ng-controller="DatepickerCtrl" key="from">                                    <input type="text" class="form-control"                                        datepicker-popup="{{format}}"                                        ng-model="daterange.from"                                        is-open="opened"                                        max-date="maxDate"                                        datepicker-options="dateOptions"                                        date-disabled="disabled(date, mode)"                                        ng-required="true"                                        init-date="daterange.from"                                        close-text="Close"                                        ng-click="open($event)"                                        />                                    <span class="input-group-btn">                                        <button type="button" class="btn btn-default" ng-click="open($event)">                                            <i class="glyphicon glyphicon-calendar"></i>                                        </button>                                    </span>                                </div>                            </li>                            <li>Till:                                 <div class="input-group" ng-controller="DatepickerCtrl" key="to" date="daterange.to">                                    <input type="text" class="form-control"                                        datepicker-popup="{{format}}"                                        ng-model="daterange.to"                                        is-open="opened"                                        max-date="maxDate"                                        datepicker-options="dateOptions"                                        date-disabled="disabled(date, mode)"                                        ng-required="true"                                        close-text="Close"                                        ng-click="open($event)"                                        />                                    <span class="input-group-btn">                                        <button type="button" class="btn btn-default" ng-click="open($event)">                                            <i class="glyphicon glyphicon-calendar"></i>                                        </button>                                    </span>                                </div></li>                        </ul>',d}return c.$inject=["$parse"],c}();b.DaterangeDirective=c,b.directives.directive("euiDaterange",c)}(b.directives||(b.directives={}));b.directives}(a.widgets||(a.widgets={}));a.widgets}(elasticui||(elasticui={})),angular.module("protokollenApp").controller("MainCtrl",["$scope",function(){}]),angular.module("protokollenApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("protokollenApp").factory("currentQuery",["$rootScope",function(a){var b={};return b.values={},b.set=function(c,d){b.values[c]=d,a.$broadcast("valuesUpdated",c,d),console.log("service update values",c,d)},b.get=function(a){return b.values[a]},b}]),angular.module("protokollenApp").controller("SearchCtrl",["$scope","$routeParams","currentQuery",function(a,b,c){c.set("from",b.from||"2010-01-01"),c.set("to",b.to||"2015-01-01")}]),angular.module("protokollenApp").controller("DocumentCtrl",["$scope","$routeParams","es",function(a,b,c){a.showDocument=!1;{var d=ejs.Request().query(ejs.IdsQuery(b.id));c.client.search({index:"documents",size:1,from:0,body:d}).then(function(b){a.showDocument=!0,b.hits.hits.length>0?(a.success=!0,a.document=b.hits.hits[0]):a.success=!1},function(a){console.trace(a.message)})}}]),angular.module("protokollenApp").controller("MeetingsCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("protokollenApp").controller("DaterangeCtrl",["$scope","currentQuery",function(){}]).controller("SearchUrlCtrl",["$scope","currentQuery",function(a,b){a.$on("valuesUpdated",function(){a.from=b.get("from"),a.to=b.get("to")})}]),angular.module("protokollenApp").controller("DatepickerCtrl",["$scope","$attrs","currentQuery",function(a,b,c){var d=b.key||"dt";a.daterange={},a.daterange[d]=c.get(d)||new Date;var e="daterange."+d;a.$watch(e,function(){c.set(d,a.daterange[d])},!0),a.$on("valuesUpdated",function(b,d){a.daterange[d]=c.get(d)}),a.today=function(){a.daterange[d]=new Date},a.clear=function(){a.daterange[d]=null},a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0},a.dateOptions={formatYear:"yy",startingDay:1},a.formats=["dd-MMMM-yyyy","yyyy-MM-dd","dd.MM.yyyy","shortDate"],a.format=a.formats[1]}]);